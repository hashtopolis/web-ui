<div class="custom-input-container">
  <div class="color-input-wrapper">
    <div class="color-input-container">
      <mat-form-field [class.mat-form-field-invalid]="hasError" [class.mat-form-field-touched]="isTouched">
        <mat-label>{{ title }}</mat-label>
        <input
          #selectInput
          matInput
          [placeholder]="getDisplayColor()"
          type="color"
          [id]="inputId"
          [value]="getDisplayColor()"
          [class.ng-invalid]="hasError"
          [class.ng-touched]="isTouched"
          (input)="onValueChange($event)"
          (blur)="onTouched()"
          [style.background]="getDisplayColor()"
          [disabled]="disabled"
          />
        <span class="color-value">{{ getDisplayColor() }}</span>
      </mat-form-field>
    </div>

    @if (randomColor) {
      <button
        mat-icon-button
        matTooltip="Randomize Color"
        type="button"
        class="random-color-btn"
        title="Randomize Color"
        (click)="generateRandomColor()"
        [disabled]="disabled"
        >
        <mat-icon>casino</mat-icon>
      </button>
    }
  </div>
</div>
