:host {
  --tile-bg: #ffffff;
  --tile-border: #e0e6ed;
  --tile-border-width: 1px;
  --tile-shadow: rgba(0,0,0,0.08);
  --text-color: #333;
  --header-color: #2c3e50;
  --status-green: #28a745;
  --status-yellow: #ffc107;
  --status-orange: #e35d27;
  --status-red: #dc3545;
  --status-blue: #42d4f4;
  --disabled-bg: #f5f5f5;
  --disabled-border: #dcdcdc;
  --disabled-text: #9aa0a6;
  --error-bg: #fff5f5;
  --error-shadow: rgba(220,53,69,0.12);
  display: block;
}

:host-context([data-theme="dark"]) {
  --tile-bg: #263238;
  --tile-border: #2a2f35;
  --tile-border-width: 1px;
  --tile-shadow: rgba(0,0,0,0.45);
  --text-color: #d7e0ea;
  --header-color: #cfe8ff;
  --status-green: #28a745;
  --status-yellow: #f0b429;
  --status-orange: #e3754c;
  --status-red: #e05656;
  --status-blue: #2aa7d6;
  --disabled-bg: #0f1112;
  --disabled-border: #222629;
  --disabled-text: #7f868b;
  --error-bg: #2b1212;
  --error-shadow: rgba(220,53,69,0.2);
}

:host-context([data-theme="dark"]) .tile {
  box-shadow: 0 8px 20px var(--tile-shadow);
}

:host-context([data-theme="dark"]) .status-item.warning {
  color: #000;
}

.tile {
  --tile-border-width: 1px;
  --status-height: 34px;
  background-color: var(--tile-bg);
  border: var(--tile-border-width) solid var(--tile-border);
  border-radius: 10px;
  padding: 15px;
  width: 310px;
  box-shadow: 0 6px 18px var(--tile-shadow);
  transition: transform 0.25s ease, box-shadow 0.25s ease, background-color 0.25s, border-color 0.25s;
  cursor: pointer;
  text-decoration: none;
  color: var(--text-color);
  position: relative;
  overflow: visible;
  display: block;
  font-size: 0.95em;
  padding-top: calc(var(--status-height) + 12px);
}

/* Error condition: Border width via variable */
.tile.error {
  --tile-border-width: 3px;
  background-color: var(--error-bg);
  border-color: var(--status-red);
  box-shadow: 0 6px 18px var(--error-shadow);
  cursor: default;
}
.tile.error .tile-header i { color: var(--status-red) !important; }
.tile.error h2 { color: var(--status-red); }

/* Status bar: top absolute, transparent container, items have their own backgrounds */
.status-bar {
  position: absolute;
  top: calc(-1 * var(--tile-border-width));         /* flush with the outer edge */
  left: calc(-1 * var(--tile-border-width));
  right: calc(-1 * var(--tile-border-width));
  display: flex;
  height: var(--status-height);
  align-items: stretch;
  background: transparent;
  overflow: visible;
  z-index: 20;
  pointer-events: none;                               /* Container not clickable, items themselves are */
  padding: 0;
}

/* single badge items */
.status-item {
  flex: 1 1 0;
  //text-align: center;
  padding: 6px 5px;
  font-size: 0.70em;
  font-weight: 700;
  color: #fff;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2px;
  pointer-events: auto;                               /* items clickable again if necessary */
  margin: 0;
}

.status-bar .status-item:first-child {
  border-top-left-radius: 10px;
}
.status-bar .status-item:last-child {
  border-top-right-radius: 10px;
}

/* Colors for status */
.status-item.ok { background-color: var(--status-green); color: #fff; }
.status-item.warning { background-color: var(--status-yellow); color: #000; }
.status-item.critical { background-color: var(--status-orange); color: #fff; }
.status-item.error,
.status-item.disabled { background-color: var(--status-red); color: #fff; }
.status-item.idle { background-color: var(--status-blue); color: #fff; }

/* Place header above status bar content layer */
.tile-header {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
  padding: 8px 6px 12px 6px;
  border-bottom: 1px solid var(--tile-border);
  position: relative;
  z-index: 10;
}

.tile-header i { font-size: 1.6em; color: #3498db; margin-right: 12px; width: 28px; text-align: center; }
.tile.disabled .tile-header i { color: var(--disabled-text) !important; }
.tile h2 { margin: 0; color: var(--header-color); font-size: 1.15em; font-weight: 700; }

.tile-body p { display: flex; align-items: center; margin: 8px 0 0 0; font-size: 0.95em; color: var(--text-color); }
.tile-body p i { margin-right: 8px; color: #7f8c8d; font-size: 1em; width: 20px; text-align: center; }

.tile::after { content: ""; position: absolute; bottom: -20px; left: 8px; right: 8px; height: 20px; border-radius: 0 0 8px 8px; pointer-events: none; opacity: 0.12; }

.tile.disabled {
  background-color: var(--disabled-bg);
  border: var(--tile-border-width) solid var(--disabled-border);
  cursor: default;
}
.tile.disabled .tile-header h2 { color: var(--disabled-text); }

.tile-body p strong {
  margin-left: 6px;
}
