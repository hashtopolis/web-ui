<app-table>
  <app-page-title [title]="pageTitle"></app-page-title>
  <br /><br />
  <form (ngSubmit)="onSubmit()" [formGroup]="form">
    <div class="form-field m-field">
      <label for="timeFormat">Time Format</label>
      <mat-form-field>
        <mat-select formControlName="timefmt" id="timeFormat">
          @for (d of formats; track d) {
            <mat-option [value]="d.value">{{ d.description }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-field m-field">
      <label for="layout">Layout</label>
      <mat-form-field>
        <mat-select formControlName="layout" id="layout">
          @for (d of layouts; track d) {
            <mat-option [value]="d.value">{{ d.description }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-field m-field">
      <label for="theme">Theme</label>
      <mat-form-field>
        <mat-select formControlName="theme" id="theme">
          @for (t of themes; track t) {
            <mat-option [value]="t.value">{{ t.description }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-field m-field">
      <label for="refreshPage">
        Auto Refresh
        <mat-icon
          matTooltip="Automatically refreshes the dashboard and task and agent status table at the specified refresh interval."
          style="font-size: 16px; cursor: pointer; vertical-align: middle; margin-left: 4px;"
          >
          info_outline
        </mat-icon>
      </label>

      <mat-form-field style="width: 100%;">
        <mat-select formControlName="refreshPage" id="refreshPage">
          <mat-option [value]="true">Enabled</mat-option>
          <mat-option [value]="false">Disabled</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-field m-field">
      <label for="refreshInterval">
        Refresh Interval (seconds)
        <mat-icon
          matTooltip="The interval in seconds at which the dashboard and task/agent status tables are automatically
          refreshed. Allowed range:
          {{ UiSettingsFormGroup.REFRESH_INTERVAL_MIN }} â€“ {{ UiSettingsFormGroup.REFRESH_INTERVAL_MAX }} seconds."
          style="font-size: 16px; cursor: pointer; vertical-align: middle; margin-left: 4px;"
          >
          info_outline
        </mat-icon>
      </label>

      <input-number
        [max]="UiSettingsFormGroup.REFRESH_INTERVAL_MAX"
        [min]="UiSettingsFormGroup.REFRESH_INTERVAL_MIN"
        formControlName="refreshInterval"
        />
    </div>

    <button-submit data-testid="button-submit" name="Save Settings"></button-submit>

    @if (isUpdatingLoading) {
      <div>
        <mat-spinner color="accent" diameter="24"></mat-spinner>
      </div>
    }
  </form>
</app-table>
